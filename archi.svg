<svg id="mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9" width="100%" xmlns="http://www.w3.org/2000/svg" style="max-width: 921.625px;" viewBox="-8 -8 921.625 716" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#ccc;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .error-icon{fill:#a44141;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .error-text{fill:#ddd;stroke:#ddd;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .edge-thickness-normal{stroke-width:2px;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .marker{fill:lightgrey;stroke:lightgrey;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .marker.cross{stroke:lightgrey;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#ccc;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .cluster-label text{fill:#F9FFFE;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .cluster-label span,#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 p{color:#F9FFFE;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .label text,#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 span,#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 p{fill:#ccc;color:#ccc;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .node rect,#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .node circle,#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .node ellipse,#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .node polygon,#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .node path{fill:#1f2020;stroke:#81B1DB;stroke-width:1px;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .flowchart-label text{text-anchor:middle;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .node .label{text-align:center;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .node.clickable{cursor:pointer;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .arrowheadPath{fill:lightgrey;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .edgePath .path{stroke:lightgrey;stroke-width:2.0px;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .flowchart-link{stroke:lightgrey;fill:none;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .edgeLabel{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .edgeLabel rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .labelBkg{background-color:rgba(87.75, 87.75, 87.75, 0.5);}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .cluster rect{fill:hsl(180, 1.5873015873%, 28.3529411765%);stroke:rgba(255, 255, 255, 0.25);stroke-width:1px;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .cluster text{fill:#F9FFFE;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .cluster span,#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 p{color:#F9FFFE;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(20, 1.5873015873%, 12.3529411765%);border:1px solid rgba(255, 255, 255, 0.25);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#ccc;}#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker id="mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9_flowchart-pointEnd" class="marker flowchart" viewBox="0 0 10 10" refX="6" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9_flowchart-pointStart" class="marker flowchart" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9_flowchart-circleEnd" class="marker flowchart" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9_flowchart-circleStart" class="marker flowchart" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9_flowchart-crossEnd" class="marker cross flowchart" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9_flowchart-crossStart" class="marker cross flowchart" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M274.754,39L274.754,45.167C274.754,51.333,274.754,63.667,274.754,75.117C274.754,86.567,274.754,97.133,274.754,102.417L274.754,107.7" id="L-User-WebApp-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-User LE-WebApp" style="fill:none;" marker-end="url(#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9_flowchart-pointEnd)"></path><path d="M274.754,200L274.754,206.167C274.754,212.333,274.754,224.667,274.754,236.117C274.754,247.567,274.754,258.133,274.754,263.417L274.754,268.7" id="L-WebApp-ApiGateway-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-WebApp LE-ApiGateway" style="fill:none;" marker-end="url(#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9_flowchart-pointEnd)"></path><path d="M184.781,357.302L169.449,364.085C154.116,370.868,123.451,384.434,108.118,396.5C92.785,408.567,92.785,419.133,92.785,424.417L92.785,429.7" id="L-ApiGateway-FirebaseAuth-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-ApiGateway LE-FirebaseAuth" style="fill:none;" marker-end="url(#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9_flowchart-pointEnd)"></path><path d="M245.475,361L241.324,367.167C237.173,373.333,228.872,385.667,224.721,401.25C220.57,416.833,220.57,435.667,220.57,454.5C220.57,473.333,220.57,492.167,220.57,511C220.57,529.833,220.57,548.667,220.57,567.5C220.57,586.333,220.57,605.167,261.059,621.681C301.547,638.195,382.524,652.391,423.012,659.489L463.5,666.586" id="L-ApiGateway-Firestore-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-ApiGateway LE-Firestore" style="fill:none;" marker-end="url(#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9_flowchart-pointEnd)"></path><path d="M304.033,361L308.184,367.167C312.335,373.333,320.636,385.667,324.787,397.117C328.938,408.567,328.938,419.133,328.938,424.417L328.938,429.7" id="L-ApiGateway-Gemini-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-ApiGateway LE-Gemini" style="fill:none;" marker-end="url(#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9_flowchart-pointEnd)"></path><path d="M364.727,341.777L399.455,351.147C434.184,360.518,503.641,379.259,538.369,393.913C573.098,408.567,573.098,419.133,573.098,424.417L573.098,429.7" id="L-ApiGateway-PubSub-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-ApiGateway LE-PubSub" style="fill:none;" marker-end="url(#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9_flowchart-pointEnd)"></path><path d="M512.762,469.429L484.759,476.357C456.757,483.286,400.751,497.143,372.749,509.355C344.746,521.567,344.746,532.133,344.746,537.417L344.746,542.7" id="L-PubSub-Accountant-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-PubSub LE-Accountant" style="fill:none;" marker-end="url(#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9_flowchart-pointEnd)"></path><path d="M573.098,474L573.098,480.167C573.098,486.333,573.098,498.667,573.098,510.117C573.098,521.567,573.098,532.133,573.098,537.417L573.098,542.7" id="L-PubSub-Auditor-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-PubSub LE-Auditor" style="fill:none;" marker-end="url(#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9_flowchart-pointEnd)"></path><path d="M633.434,469.429L661.436,476.357C689.439,483.286,745.444,497.143,773.447,509.355C801.449,521.567,801.449,532.133,801.449,537.417L801.449,542.7" id="L-PubSub-Communicator-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-PubSub LE-Communicator" style="fill:none;" marker-end="url(#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9_flowchart-pointEnd)"></path><path d="M344.746,587L344.746,593.167C344.746,599.333,344.746,611.667,365.521,623.758C386.295,635.849,427.844,647.698,448.619,653.622L469.394,659.547" id="L-Accountant-Firestore-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Accountant LE-Firestore" style="fill:none;" marker-end="url(#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9_flowchart-pointEnd)"></path><path d="M573.098,587L573.098,593.167C573.098,599.333,573.098,611.667,570.215,623.221C567.333,634.776,561.567,645.551,558.685,650.939L555.802,656.327" id="L-Auditor-Firestore-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Auditor LE-Firestore" style="fill:none;" marker-end="url(#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9_flowchart-pointEnd)"></path><path d="M801.449,587L801.449,593.167C801.449,599.333,801.449,611.667,771.574,624.361C741.698,637.056,681.947,650.111,652.071,656.639L622.195,663.167" id="L-Communicator-Firestore-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Communicator LE-Firestore" style="fill:none;" marker-end="url(#mermaid-39781d02-9066-4a77-9dd4-9c03e80048f9_flowchart-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(274.75390625, 76)"><g class="label" transform="translate(-22.83203125, -12)"><foreignObject width="45.6640625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">HTTPS</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(274.75390625, 237)"><g class="label" transform="translate(-61.87890625, -12)"><foreignObject width="123.7578125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">API Calls (HTTPS)</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(92.78515625, 398)"><g class="label" transform="translate(-16.6328125, -12)"><foreignObject width="33.265625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Auth</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(220.5703125, 511)"><g class="label" transform="translate(-30.70703125, -12)"><foreignObject width="61.4140625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Data I/O</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(328.9375, 398)"><g class="label" transform="translate(-40.375, -12)"><foreignObject width="80.75" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">AI Features</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(573.09765625, 398)"><g class="label" transform="translate(-51.296875, -12)"><foreignObject width="102.59375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Publish Events</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(344.74609375, 511)"><g class="label" transform="translate(-27.8984375, -12)"><foreignObject width="55.796875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Triggers</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(573.09765625, 511)"><g class="label" transform="translate(-27.8984375, -12)"><foreignObject width="55.796875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Triggers</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(801.44921875, 511)"><g class="label" transform="translate(-27.8984375, -12)"><foreignObject width="55.796875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Triggers</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(344.74609375, 624)"><g class="label" transform="translate(-104.17578125, -12)"><foreignObject width="208.3515625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Processes Data &amp; Updates DB</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(573.09765625, 624)"><g class="label" transform="translate(-104.17578125, -12)"><foreignObject width="208.3515625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Processes Data &amp; Updates DB</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(801.44921875, 624)"><g class="label" transform="translate(-104.17578125, -12)"><foreignObject width="208.3515625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Processes Data &amp; Updates DB</span></div></foreignObject></g></g></g><g class="nodes"><g class="node default default flowchart-label" id="flowchart-User-110" data-node="true" data-id="User" transform="translate(274.75390625, 19.5)"><rect class="basic label-container" style="" rx="0" ry="0" x="-60.27734375" y="-19.5" width="120.5546875" height="39"></rect><g class="label" style="" transform="translate(-52.77734375, -12)"><rect></rect><foreignObject width="105.5546875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">User (Browser)</span></div></foreignObject></g></g><g class="node default default flowchart-label" id="flowchart-WebApp-111" data-node="true" data-id="WebApp" transform="translate(274.75390625, 156.5)"><rect class="basic label-container" style="" rx="0" ry="0" x="-89.97265625" y="-43.5" width="179.9453125" height="87"></rect><g class="label" style="" transform="translate(-82.47265625, -36)"><rect></rect><foreignObject width="164.9453125" height="72"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Next.js Web App<br/>(Frontend Layer)<br/>Deployed on Cloud Run</span></div></foreignObject></g></g><g class="node default default flowchart-label" id="flowchart-ApiGateway-112" data-node="true" data-id="ApiGateway" transform="translate(274.75390625, 317.5)"><rect class="basic label-container" style="" rx="0" ry="0" x="-89.97265625" y="-43.5" width="179.9453125" height="87"></rect><g class="label" style="" transform="translate(-82.47265625, -36)"><rect></rect><foreignObject width="164.9453125" height="72"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">FastAPI Backend API<br/>(Backend Layer)<br/>Deployed on Cloud Run</span></div></foreignObject></g></g><g class="node default default flowchart-label" id="flowchart-Accountant-113" data-node="true" data-id="Accountant" transform="translate(344.74609375, 567.5)"><rect class="basic label-container" style="" rx="0" ry="0" x="-70.703125" y="-19.5" width="141.40625" height="39"></rect><g class="label" style="" transform="translate(-63.203125, -12)"><rect></rect><foreignObject width="126.40625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Accountant Agent</span></div></foreignObject></g></g><g class="node default default flowchart-label" id="flowchart-Auditor-114" data-node="true" data-id="Auditor" transform="translate(573.09765625, 567.5)"><rect class="basic label-container" style="" rx="0" ry="0" x="-56.51171875" y="-19.5" width="113.0234375" height="39"></rect><g class="label" style="" transform="translate(-49.01171875, -12)"><rect></rect><foreignObject width="98.0234375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Auditor Agent</span></div></foreignObject></g></g><g class="node default default flowchart-label" id="flowchart-Communicator-115" data-node="true" data-id="Communicator" transform="translate(801.44921875, 567.5)"><rect class="basic label-container" style="" rx="0" ry="0" x="-82.23046875" y="-19.5" width="164.4609375" height="39"></rect><g class="label" style="" transform="translate(-74.73046875, -12)"><rect></rect><foreignObject width="149.4609375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Communicator Agent</span></div></foreignObject></g></g><g class="node default default flowchart-label" id="flowchart-FirebaseAuth-116" data-node="true" data-id="FirebaseAuth" transform="translate(92.78515625, 454.5)"><rect class="basic label-container" style="" rx="0" ry="0" x="-92.78515625" y="-19.5" width="185.5703125" height="39"></rect><g class="label" style="" transform="translate(-85.28515625, -12)"><rect></rect><foreignObject width="170.5703125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Firebase Authentication</span></div></foreignObject></g></g><g class="node default default flowchart-label" id="flowchart-Firestore-117" data-node="true" data-id="Firestore" transform="translate(542.869140625, 680.5)"><rect class="basic label-container" style="" rx="0" ry="0" x="-74.1484375" y="-19.5" width="148.296875" height="39"></rect><g class="label" style="" transform="translate(-66.6484375, -12)"><rect></rect><foreignObject width="133.296875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Cloud Firestore DB</span></div></foreignObject></g></g><g class="node default default flowchart-label" id="flowchart-PubSub-118" data-node="true" data-id="PubSub" transform="translate(573.09765625, 454.5)"><rect class="basic label-container" style="" rx="0" ry="0" x="-60.3359375" y="-19.5" width="120.671875" height="39"></rect><g class="label" style="" transform="translate(-52.8359375, -12)"><rect></rect><foreignObject width="105.671875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Cloud Pub/Sub</span></div></foreignObject></g></g><g class="node default default flowchart-label" id="flowchart-Gemini-119" data-node="true" data-id="Gemini" transform="translate(328.9375, 454.5)"><rect class="basic label-container" style="" rx="0" ry="0" x="-73.3671875" y="-19.5" width="146.734375" height="39"></rect><g class="label" style="" transform="translate(-65.8671875, -12)"><rect></rect><foreignObject width="131.734375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Google Gemini API</span></div></foreignObject></g></g></g></g></g></svg>